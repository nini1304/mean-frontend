<div class="login-page">
  <div class="login-card">
    <!-- Gatito -->
    <img
      src="/assets/cat-login.svg"
      alt="Gatito"
      class="cat-image"
    />

    <!-- Contenido del formulario -->
    <div class="login-content">
      <h1 class="login-title">Iniciar Sesión</h1>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <!-- Correo -->
        <div class="form-group">
          <label for="correo">Correo:</label>
          <input
            id="correo"
            type="email"
            formControlName="correo"
            [class.is-invalid]="f['correo'].invalid && f['correo'].touched"
          />
        </div>

        <!-- Contraseña -->
        <div class="form-group">
          <label for="contrasena">Contraseña:</label>
          <input
            id="contrasena"
            type="password"
            formControlName="contrasena"
            [class.is-invalid]="
              f['contrasena'].invalid && f['contrasena'].touched
            "
          />
        </div>

        <!-- Mensajes -->
        <div class="messages">
          <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>
          <p class="success" *ngIf="successMsg">{{ successMsg }}</p>
        </div>

        <!-- Botón -->
        <button
          type="submit"
          class="btn-primary"
          [disabled]="cargando"
        >
          {{ cargando ? 'Ingresando...' : 'Ingresar' }}
        </button>
      </form>

      <!-- Recuperar contraseña -->
      <button
        type="button"
        class="recover-link"
        (click)="onRecoverPassword()"
      >
        Recuperar contraseña
      </button>
    </div>
  </div>


   <!-- MODAL RECUPERAR CONTRASEÑA -->
  <div class="modal-backdrop" *ngIf="showRecoverModal">
    <div class="modal-card">
      <button class="modal-close" type="button" (click)="closeRecoverModal()">
        ✕
      </button>

      <h2 class="modal-title">Recuperar Contraseña</h2>

      <p class="modal-text">
        Se enviará una contraseña generada automáticamente a su correo
        registrado. Una vez recibida, inicie sesión y proceda a cambiarla.
      </p>

      <form
        [formGroup]="recoverForm"
        (ngSubmit)="submitRecoverPassword()"
        class="modal-form"
      >
        <div class="modal-form-group">
          <label for="recuperar-correo">Ingrese su correo:</label>
          <input
            id="recuperar-correo"
            type="email"
            formControlName="correo"
            [class.is-invalid]="rf['correo'].invalid && rf['correo'].touched"
          />
        </div>

        <div class="modal-messages">
          <p class="error" *ngIf="resetErrorMsg">{{ resetErrorMsg }}</p>
          <p class="success" *ngIf="resetMsg">{{ resetMsg }}</p>
        </div>

        <button
          type="submit"
          class="btn-primary modal-btn"
          [disabled]="cargandoReset"
        >
          {{ cargandoReset ? 'Enviando...' : 'Enviar' }}
        </button>
      </form>
    </div>
  </div>
</div>
